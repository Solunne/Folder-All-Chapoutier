_cookie_assistant_enable_cookies = true;
_cookie_assistant_disable_cookies = false;

// Store all translations message in a variable.
var translatedCookie = {
  'fr': {accept_text: 'J\'accepte', more_text: 'En savoir plus', text: 'En poursuivant votre navigation, vous acceptez l\'utilisation de cookies pour vous proposer des contenus adaptés à vos centres d\'intérêts.', policy_url: '/fr/cookies'},
  'en': {accept_text: 'I agree', more_text: 'Find out more', text: 'The cookie settings on this website are set to allow cookies to give you the best navigation experience.', policy_url: '/en/cookies'}
  //'en': {yesbutton: 'I agree', morebutton: 'More information', msg: 'Our website uses cookies to ensure you get the best navigation experience.'},
};

(function() {

// Localize jQuery variable
var jQuery;

/******** Load jQuery if not present *********/
if (window.jQuery === undefined || window.jQuery.fn.jquery !== '1.7') {
  var script_tag = document.createElement('script');
  script_tag.setAttribute("type","text/javascript");
  script_tag.setAttribute("src",
    "http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js");
  if (script_tag.readyState) {
    script_tag.onreadystatechange = function () { // For old versions of IE
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        scriptLoadHandler();
      }
    };
  } else {
    script_tag.onload = scriptLoadHandler;
  }
  // Try to find the head, otherwise default to the documentElement
  (document.getElementsByTagName("head")[0] || document.documentElement).appendChild(script_tag);
} else {
  // The jQuery version on the window is the one we want to use
  jQuery = window.jQuery;
  main();
}


/******** Called once jQuery has loaded ******/
function scriptLoadHandler() {
  // Restore $ and window.jQuery to their previous values and store the
  // new jQuery in our local jQuery variable
  jQuery = window.jQuery.noConflict(true);
  // Call our main function
  main(); 
}


/******** Our main function ********/
function main() { 
  jQuery(document).ready(function($) {

  !function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function n(e){return e}function o(e){return decodeURIComponent(e.replace(t," "))}function i(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return r.json?JSON.parse(e):e}catch(n){}}var t=/\+/g,r=e.cookie=function(t,c,a){if(void 0!==c){if(a=e.extend({},r.defaults,a),"number"==typeof a.expires){var u=a.expires,f=a.expires=new Date;f.setDate(f.getDate()+u)}return c=r.json?JSON.stringify(c):String(c),document.cookie=[r.raw?t:encodeURIComponent(t),"=",r.raw?c:encodeURIComponent(c),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var d=r.raw?n:o,p=document.cookie.split("; "),s=t?void 0:{},m=0,x=p.length;x>m;m++){var l=p[m].split("="),g=d(l.shift()),v=d(l.join("="));if(t&&t===g){s=i(v);break}t||(s[g]=i(v))}return s};r.defaults={},e.removeCookie=function(n,o){return void 0!==e.cookie(n)?(e.cookie(n,"",e.extend(o,{expires:-1})),!0):!1}});

    // Get the locale from the <html> tag.
    var locale = $('html').attr('lang');
    $el = $('#cookie_assistant_container');
    // Insert the HTML cookie box.
    $el.html("<style>" +
        "#cookie_assistant_container{background-color: #000;color:#FFFFFF;}" +
        "#cookie_assistant_wrapper{padding: 1% 0;}" +
        "#cookie_assistant_wrapper p, #cookie_assistant_wrapper div{font-family: 'CenturySchoolbook-Regular';font-size:1em;}" +
        "#cookie_assistant_wrapper p{margin-bottom: 0;}" +
        ".btn-accept,.btn-more{margin:15px 5px; text-align:center;}" +
        ".btn.btn-cookies {color:#FFFFFF!important;border-color:#FFFFFF!important;border: 1px solid; border-radius: 0;background: #000;margin: 0 1%;}" +
        ".btn.btn-cookies:hover {color:#000!important;background: #fff!important;}" +
        "</style><div id=\"cookie_assistant_wrapper\" class='inner'><div class='row'><p class='col-xs-12 col-md-6 col-md-offset-2'>" + translatedCookie[locale]['text'] + "<\/p><p class=\"col-xs-12 col-md-4\"><a href=\"javascript:void(0);\" class=\"btn-accept btn btn-cookies\">" + translatedCookie[locale]['accept_text'] + "<\/a><a href=\"" + translatedCookie[locale]['policy_url'] + "\" class=\"btn-more btn btn-cookies\" >" + translatedCookie[locale]['more_text'] + "<\/a></p></div><\/div>");

    // show or hide ?
    if ($.cookie('cookie_assistant_enable_cookies') == 'true') {
      $el.hide();
    } else {
      $el.show();
    }

    // Set a cookie that avoid to display the cookie at each page refresh.
    $el.find('a.btn-accept').click(function() {
      $.cookie('cookie_assistant_enable_cookies', true, { expires: 356, path: '/' });
      $el.fadeOut();
    });
  });
}

})(); // We call our anonymous function immediately



